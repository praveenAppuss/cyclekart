{% extends "base.html" %}
{% load i18n %}

{% block content %}
<div class="w-full max-w-sm mx-auto bg-white p-6 rounded-xl shadow-md mt-10">
  <h2 class="text-2xl font-semibold text-center mb-4">{% trans "Change Password" %}</h2>

  {% if token_fail %}
    <p class="text-red-500 text-sm text-center mb-4">
      {% trans "The password reset link was invalid or has already been used." %}
    </p>
  {% else %}
    <form method="post">
      {% csrf_token %}
      
      <!-- Password 1 -->
      <div class="mb-4">
        <label for="id_password1" class="block text-sm font-medium text-gray-700 mb-1">{% trans "New Password" %}</label>
        {{ form.password1 }}
        {% if form.password1.errors %}
          <ul class="mt-1 text-sm text-red-500 list-disc list-inside">
            {% for error in form.password1.errors %}
              <li>{{ error }}</li>
            {% endfor %}
          </ul>
        {% endif %}
      </div>

      <!-- Password 2 -->
      <div class="mb-4">
        <label for="id_password2" class="block text-sm font-medium text-gray-700 mb-1">{% trans "Confirm New Password" %}</label>
        {{ form.password2 }}
        {% if form.password2.errors %}
          <ul class="mt-1 text-sm text-red-500 list-disc list-inside">
            {% for error in form.password2.errors %}
              <li>{{ error }}</li>
            {% endfor %}
          </ul>
        {% endif %}
      </div>

      <!-- Submit Button -->
      <button type="submit"
        class="w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition">
        {% trans "Change Password" %}
      </button>
    </form>
  {% endif %}
</div>
{% endblock %}
